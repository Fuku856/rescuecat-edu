<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¯ã‚¤ã‚º - ã—ã‚ã‚ã›ã­ã“å¡¾</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ã¯å‹•çš„ã«èª­ã¿è¾¼ã¾ã‚Œã¾ã™ -->
    <div id="header-placeholder"></div>

    <main>
        <div class="page-header">
            <div class="container">
                <h2>ã‚¯ã‚¤ã‚ºã«æŒ‘æˆ¦ã—ã‚ˆã†ï¼</h2>
                <p>å­¦ç¿’ã—ãŸå†…å®¹ã‚’ã‚¯ã‚¤ã‚ºã§ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†</p>
            </div>
        </div>

        <div class="container">
            <!-- ã‚¯ã‚¤ã‚ºé¸æŠã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <section class="quiz-selection" id="quiz-selection">
                <h3>ã‚¯ã‚¤ã‚ºã‚’é¸ã‚“ã§ãã ã•ã„</h3>
                <div class="quiz-options">
                    <div class="quiz-option" data-quiz="basic">
                        <div class="quiz-icon">ğŸ“š</div>
                        <h4>åŸºç¤çŸ¥è­˜ã‚¯ã‚¤ã‚º</h4>
                        <p>å‹•ç‰©æ„›è­·ã®åŸºæœ¬ã«ã¤ã„ã¦</p>
                        <div class="quiz-info">
                            <span>å•é¡Œæ•°: 5å•</span>
                            <span>é›£æ˜“åº¦: åˆç´š</span>
                        </div>
                        <button class="btn btn-primary start-quiz-btn" data-quiz="basic">æŒ‘æˆ¦ã™ã‚‹</button>
                    </div>
                    <div class="quiz-option" data-quiz="rescue">
                        <div class="quiz-icon">ğŸ </div>
                        <h4>ä¿è­·çŒ«ã‚¯ã‚¤ã‚º</h4>
                        <p>ä¿è­·çŒ«ã®ç¾çŠ¶ã¨èª²é¡Œã«ã¤ã„ã¦</p>
                        <div class="quiz-info">
                            <span>å•é¡Œæ•°: 5å•</span>
                            <span>é›£æ˜“åº¦: ä¸­ç´š</span>
                        </div>
                        <button class="btn btn-primary start-quiz-btn" data-quiz="rescue">æŒ‘æˆ¦ã™ã‚‹</button>
                    </div>
                    <div class="quiz-option" data-quiz="responsibility">
                        <div class="quiz-icon">â¤ï¸</div>
                        <h4>é£¼è‚²è²¬ä»»ã‚¯ã‚¤ã‚º</h4>
                        <p>ãƒšãƒƒãƒˆã‚’é£¼ã†è²¬ä»»ã«ã¤ã„ã¦</p>
                        <div class="quiz-info">
                            <span>å•é¡Œæ•°: 5å•</span>
                            <span>é›£æ˜“åº¦: ä¸­ç´š</span>
                        </div>
                        <button class="btn btn-primary start-quiz-btn" data-quiz="responsibility">æŒ‘æˆ¦ã™ã‚‹</button>
                    </div>
                </div>
            </section>

            <!-- ã‚¯ã‚¤ã‚ºé€²è¡Œã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
            <section class="quiz-container" id="quiz-container" style="display: none;">
                <div class="quiz-header">
                    <div class="quiz-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <span class="progress-text" id="progress-text">1 / 5</span>
                    </div>
                    <div class="quiz-score">
                        <span>æ­£è§£æ•°: <span id="correct-count">0</span> / <span id="total-questions">5</span></span>
                    </div>
                </div>

                <div class="quiz-question" id="quiz-question">
                    <h3 id="question-text">å•é¡Œæ–‡ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</h3>
                    <div class="quiz-options-list" id="quiz-options-list">
                        <!-- é¸æŠè‚¢ãŒã“ã“ã«å‹•çš„ã«ç”Ÿæˆã•ã‚Œã¾ã™ -->
                    </div>
                </div>

                <div class="quiz-feedback" id="quiz-feedback" style="display: none;">
                    <div class="feedback-content">
                        <div class="feedback-icon" id="feedback-icon">ğŸ‰</div>
                        <h4 id="feedback-title">æ­£è§£ã§ã™ï¼</h4>
                        <p id="feedback-text">èª¬æ˜æ–‡ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</p>
                        <button class="btn btn-primary" id="next-question-btn">æ¬¡ã®å•é¡Œã¸</button>
                    </div>
                </div>

                <div class="quiz-result" id="quiz-result" style="display: none;">
                    <div class="result-content">
                        <div class="result-icon" id="result-icon">ğŸ†</div>
                        <h3 id="result-title">ã‚¯ã‚¤ã‚ºå®Œäº†ï¼</h3>
                        <div class="result-score">
                            <p>æ­£è§£æ•°: <span id="final-score">0</span> / <span id="final-total">5</span></p>
                            <p>æ­£ç­”ç‡: <span id="percentage">0</span>%</p>
                        </div>
                        <div class="result-message" id="result-message">
                            <p>ç´ æ™´ã‚‰ã—ã„çµæœã§ã™ï¼</p>
                        </div>
                        <div class="result-actions">
                            <button class="btn btn-primary" id="retry-quiz-btn">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
                            <button class="btn btn-secondary" id="back-to-selection-btn">ã‚¯ã‚¤ã‚ºé¸æŠã«æˆ»ã‚‹</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- ãƒ•ãƒƒã‚¿ãƒ¼ã¯å‹•çš„ã«èª­ã¿è¾¼ã¾ã‚Œã¾ã™ -->
    <div id="footer-placeholder"></div>

    <!-- ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒˆãƒƒãƒ—ãƒœã‚¿ãƒ³ -->
    <button id="scroll-top-btn" class="scroll-top-btn" aria-label="ãƒšãƒ¼ã‚¸ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹">
        <span>^</span>
    </button>

    <script src="components/load-components.js"></script>
    <script src="script.js"></script>
    <script>
        // ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿
        const quizData = {
            basic: {
                title: "åŸºç¤çŸ¥è­˜ã‚¯ã‚¤ã‚º",
                questions: [
                    {
                        question: "å‹•ç‰©æ„›è­·æ³•ã®æ­£å¼åç§°ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "å‹•ç‰©ã®æ„›è­·åŠã³ç®¡ç†ã«é–¢ã™ã‚‹æ³•å¾‹",
                            "å‹•ç‰©ä¿è­·æ³•",
                            "ãƒšãƒƒãƒˆæ„›è­·æ³•",
                            "å‹•ç‰©ç¦ç¥‰æ³•"
                        ],
                        correct: 0,
                        explanation: "æ­£è§£ã¯ã€Œå‹•ç‰©ã®æ„›è­·åŠã³ç®¡ç†ã«é–¢ã™ã‚‹æ³•å¾‹ã€ã§ã™ã€‚1973å¹´ã«åˆ¶å®šã•ã‚Œã€å‹•ç‰©ã®é©æ­£ãªå–ã‚Šæ‰±ã„ã«ã¤ã„ã¦å®šã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
                    },
                    {
                        question: "å‹•ç‰©ã®5ã¤ã®è‡ªç”±ã®ã†ã¡ã€æ­£ã—ããªã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
                        options: [
                            "é£¢ãˆã¨æ¸‡ãã‹ã‚‰ã®è‡ªç”±",
                            "ä¸å¿«ã‹ã‚‰ã®è‡ªç”±",
                            "ç—›ã¿ãƒ»å‚·å®³ãƒ»ç—…æ°—ã‹ã‚‰ã®è‡ªç”±",
                            "è‡ªç”±ã«å¤–å‡ºã™ã‚‹è‡ªç”±"
                        ],
                        correct: 3,
                        explanation: "ã€Œè‡ªç”±ã«å¤–å‡ºã™ã‚‹è‡ªç”±ã€ã¯å‹•ç‰©ã®5ã¤ã®è‡ªç”±ã«ã¯å«ã¾ã‚Œã¾ã›ã‚“ã€‚5ã¤ã®è‡ªç”±ã¯ã€é£¢ãˆã¨æ¸‡ãã€ä¸å¿«ã€ç—›ã¿ãƒ»å‚·å®³ãƒ»ç—…æ°—ã€æ­£å¸¸ãªè¡Œå‹•è¡¨ç¾ã€ææ€–ã¨è‹¦ç—›ã‹ã‚‰ã®è‡ªç”±ã§ã™ã€‚"
                    },
                    {
                        question: "TNRæ´»å‹•ã®ã€ŒNã€ã¯ä½•ã‚’æ„å‘³ã—ã¾ã™ã‹ï¼Ÿ",
                        options: [
                            "Naturalï¼ˆè‡ªç„¶ï¼‰",
                            "Neuterï¼ˆä¸å¦Šå»å‹¢æ‰‹è¡“ï¼‰",
                            "Nurtureï¼ˆè‚²æˆï¼‰",
                            "Networkï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ï¼‰"
                        ],
                        correct: 1,
                        explanation: "TNRã®ã€ŒNã€ã¯ã€ŒNeuterï¼ˆä¸å¦Šå»å‹¢æ‰‹è¡“ï¼‰ã€ã‚’æ„å‘³ã—ã¾ã™ã€‚TNRã¯ã€ŒTrapï¼ˆæ•ç²ï¼‰ãƒ»Neuterï¼ˆä¸å¦Šå»å‹¢æ‰‹è¡“ï¼‰ãƒ»Returnï¼ˆå…ƒã®å ´æ‰€ã«æˆ»ã™ï¼‰ã€ã®ç•¥ã§ã™ã€‚"
                    },
                    {
                        question: "çŒ«ã®å¹³å‡å¯¿å‘½ã¯ã©ã®ãã‚‰ã„ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "5-8å¹´",
                            "10-12å¹´",
                            "15-20å¹´",
                            "20-25å¹´"
                        ],
                        correct: 2,
                        explanation: "çŒ«ã®å¹³å‡å¯¿å‘½ã¯15-20å¹´ã§ã™ã€‚é©åˆ‡ãªé£¼è‚²ç’°å¢ƒã¨åŒ»ç™‚ã‚±ã‚¢ã«ã‚ˆã‚Šã€20å¹´ä»¥ä¸Šç”Ÿãã‚‹çŒ«ã‚‚çã—ãã‚ã‚Šã¾ã›ã‚“ã€‚"
                    },
                    {
                        question: "å‹•ç‰©æ„›è­·ã®ç›®çš„ã¨ã—ã¦æœ€ã‚‚é‡è¦ãªã®ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "å‹•ç‰©ã‚’å¯æ„›ãŒã‚‹ã“ã¨",
                            "å‹•ç‰©ã®ç”Ÿå‘½ã‚’å°Šé‡ã—ã€é©åˆ‡ã«å–ã‚Šæ‰±ã†ã“ã¨",
                            "å‹•ç‰©ã‚’ãƒšãƒƒãƒˆã¨ã—ã¦é£¼ã†ã“ã¨",
                            "å‹•ç‰©ã‚’ä¿è­·ã™ã‚‹ã“ã¨"
                        ],
                        correct: 1,
                        explanation: "å‹•ç‰©æ„›è­·ã®ç›®çš„ã¯ã€å‹•ç‰©ã®ç”Ÿå‘½ã‚’å°Šé‡ã—ã€å‹•ç‰©ãŒè‹¦ç—›ã‚’å—ã‘ã‚‹ã“ã¨ã®ãªã„ã‚ˆã†é©åˆ‡ã«å–ã‚Šæ‰±ã†ã“ã¨ã§ã™ã€‚"
                    }
                ]
            },
            rescue: {
                title: "ä¿è­·çŒ«ã‚¯ã‚¤ã‚º",
                questions: [
                    {
                        question: "æ—¥æœ¬ã§çŒ«ã®æ®ºå‡¦åˆ†ãŒæœ€ã‚‚å¤šã„ç†ç”±ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "ç—…æ°—ã®çŒ«ãŒå¤šã„",
                            "é£¼ã„ä¸»ã®éºæ£„",
                            "é‡è‰¯çŒ«ã®ç¹æ®–",
                            "ä¿è­·æ–½è¨­ã®ä¸è¶³"
                        ],
                        correct: 2,
                        explanation: "é‡è‰¯çŒ«ã®ç¹æ®–ãŒä¸»ãªåŸå› ã§ã™ã€‚ä¸å¦Šå»å‹¢æ‰‹è¡“ã‚’ã—ã¦ã„ãªã„çŒ«ã®ç¹æ®–ã«ã‚ˆã‚Šã€ä¿è­·ã•ã‚Œã‚‹çŒ«ã®æ•°ãŒå¢—åŠ ã—ã¦ã„ã¾ã™ã€‚"
                    },
                    {
                        question: "ä¿è­·çŒ«ã‚’é‡Œè¦ªã«å‡ºã™éš›ã®ä¸€èˆ¬çš„ãªæ‰‹é †ã§ã€æœ€åˆã«è¡Œã†ã®ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "é¢è«‡",
                            "æ›¸é¡æå‡º",
                            "äº‹å‰ç›¸è«‡",
                            "çŒ«ã¨ã®é¢ä¼š"
                        ],
                        correct: 2,
                        explanation: "æœ€åˆã«è¡Œã†ã®ã¯ã€Œäº‹å‰ç›¸è«‡ã€ã§ã™ã€‚ä¿è­·å›£ä½“ã«é€£çµ¡ã—ã€é‡Œè¦ªå¸Œæœ›ã®æ—¨ã‚’ä¼ãˆã‚‹ã“ã¨ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚"
                    },
                    {
                        question: "ä¿è­·çŒ«ã®å¹´é–“é£¼è‚²è²»ç”¨ã®ç›®å®‰ã¯ã„ãã‚‰ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "3-5ä¸‡å††",
                            "5-8ä¸‡å††",
                            "10-20ä¸‡å††",
                            "20-30ä¸‡å††"
                        ],
                        correct: 2,
                        explanation: "çŒ«ã®å¹´é–“é£¼è‚²è²»ç”¨ã¯ç´„10-20ä¸‡å††ãŒç›®å®‰ã§ã™ã€‚ãƒ•ãƒ¼ãƒ‰ã€åŒ»ç™‚è²»ã€ç”¨å“ä»£ãªã©ãŒå«ã¾ã‚Œã¾ã™ã€‚"
                    },
                    {
                        question: "ä¿è­·çŒ«ãŒæŠ±ãˆã‚‹å•é¡Œã¨ã—ã¦ã€æœ€ã‚‚æ·±åˆ»ãªã®ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "ä½å±…ä¸è¶³",
                            "è³‡é‡‘ä¸è¶³",
                            "å¥åº·å•é¡Œ",
                            "å¿ƒç†çš„ãƒˆãƒ©ã‚¦ãƒ"
                        ],
                        correct: 0,
                        explanation: "ä½å±…ä¸è¶³ãŒæœ€ã‚‚æ·±åˆ»ãªå•é¡Œã§ã™ã€‚ä¿è­·æ–½è¨­ã®åå®¹èƒ½åŠ›ã‚’è¶…ãˆã‚‹çŒ«ãŒä¿è­·ã•ã‚Œã¦ãŠã‚Šã€é©åˆ‡ãªé£¼è‚²ç’°å¢ƒã®ç¢ºä¿ãŒå›°é›£ã§ã™ã€‚"
                    },
                    {
                        question: "ä¿è­·çŒ«æ´»å‹•ã§æœ€ã‚‚åŠ¹æœçš„ãªæ”¯æ´æ–¹æ³•ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "å¯„ä»˜ã®ã¿",
                            "æƒ…å ±æ‹¡æ•£ã®ã¿",
                            "è¤‡æ•°ã®æ”¯æ´æ–¹æ³•ã®çµ„ã¿åˆã‚ã›",
                            "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢ã®ã¿"
                        ],
                        correct: 2,
                        explanation: "è¤‡æ•°ã®æ”¯æ´æ–¹æ³•ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ãŒæœ€ã‚‚åŠ¹æœçš„ã§ã™ã€‚å¯„ä»˜ã€æƒ…å ±æ‹¡æ•£ã€ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢ãªã©ã€æ§˜ã€…ãªå½¢ã§æ”¯æ´ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚"
                    }
                ]
            },
            responsibility: {
                title: "é£¼è‚²è²¬ä»»ã‚¯ã‚¤ã‚º",
                questions: [
                    {
                        question: "ãƒšãƒƒãƒˆã‚’é£¼ã†éš›ã«æœ€ã‚‚é‡è¦ãªè²¬ä»»ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "å¯æ„›ãŒã‚‹ã“ã¨",
                            "æœ€å¾Œã¾ã§è²¬ä»»ã‚’æŒã£ã¦é£¼è‚²ã™ã‚‹ã“ã¨",
                            "é«˜ä¾¡ãªãƒ•ãƒ¼ãƒ‰ã‚’ä¸ãˆã‚‹ã“ã¨",
                            "æ¯æ—¥éŠã¶ã“ã¨"
                        ],
                        correct: 1,
                        explanation: "æœ€ã‚‚é‡è¦ãªè²¬ä»»ã¯ã€Œæœ€å¾Œã¾ã§è²¬ä»»ã‚’æŒã£ã¦é£¼è‚²ã™ã‚‹ã“ã¨ã€ã§ã™ã€‚ãƒšãƒƒãƒˆã®å‘½ã‚’é ã‹ã‚‹ã¨ã„ã†è²¬ä»»ã‚’ç†è§£ã™ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚"
                    },
                    {
                        question: "é£¼è‚²æ”¾æ£„ã®ä¸»ãªåŸå› ã¨ã—ã¦æœ€ã‚‚å¤šã„ã®ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "çµŒæ¸ˆçš„ç†ç”±",
                            "é£¼è‚²ã®å¤§å¤‰ã•ã‚’è»½è¦–",
                            "å¼•ã£è¶Šã—",
                            "å®¶æ—ã®åå¯¾"
                        ],
                        correct: 1,
                        explanation: "é£¼è‚²ã®å¤§å¤‰ã•ã‚’è»½è¦–ã™ã‚‹ã“ã¨ãŒæœ€ã‚‚å¤šã„åŸå› ã§ã™ã€‚é£¼è‚²å‰ã«ååˆ†ãªæ¤œè¨ã¨æº–å‚™ã‚’ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚"
                    },
                    {
                        question: "çŒ«ã®å¥åº·ç®¡ç†ã§å®šæœŸçš„ã«è¡Œã†ã¹ãã“ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "å¥åº·è¨ºæ–­ã¨ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®",
                            "ãƒ•ãƒ¼ãƒ‰ã®å¤‰æ›´",
                            "ãŠã‚‚ã¡ã‚ƒã®äº¤æ›",
                            "æ•£æ­©"
                        ],
                        correct: 0,
                        explanation: "å®šæœŸçš„ãªå¥åº·è¨ºæ–­ã¨ãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®ãŒé‡è¦ã§ã™ã€‚å¹´ã«1-2å›ã®å¥åº·è¨ºæ–­ã¨ã€å¿…è¦ãªãƒ¯ã‚¯ãƒãƒ³æ¥ç¨®ã‚’è¡Œã„ã¾ã—ã‚‡ã†ã€‚"
                    },
                    {
                        question: "è¿·å­é˜²æ­¢ã®ãŸã‚ã«æ¨å¥¨ã•ã‚Œã‚‹æ–¹æ³•ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "é¦–è¼ªã®ã¿",
                            "ãƒã‚¤ã‚¯ãƒ­ãƒãƒƒãƒ—ã®è£…ç€",
                            "å®¤å†…é£¼è‚²ã®ã¿",
                            "åå‰ã‚’å‘¼ã¶ç·´ç¿’"
                        ],
                        correct: 1,
                        explanation: "ãƒã‚¤ã‚¯ãƒ­ãƒãƒƒãƒ—ã®è£…ç€ãŒæœ€ã‚‚åŠ¹æœçš„ã§ã™ã€‚é¦–è¼ªãŒå¤–ã‚Œã¦ã‚‚ã€ãƒã‚¤ã‚¯ãƒ­ãƒãƒƒãƒ—ãŒã‚ã‚Œã°èº«å…ƒã‚’ç‰¹å®šã§ãã¾ã™ã€‚"
                    },
                    {
                        question: "ãƒšãƒƒãƒˆã‚’é£¼ã†å‰ã«ç¢ºèªã™ã¹ãã“ã¨ã¨ã—ã¦ã€æœ€ã‚‚é‡è¦ãªã®ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                        options: [
                            "å®¶æ—å…¨å“¡ã®åŒæ„",
                            "çµŒæ¸ˆçš„ä½™è£•",
                            "é£¼è‚²ç’°å¢ƒã®ç¢ºä¿",
                            "ä¸Šè¨˜ã™ã¹ã¦"
                        ],
                        correct: 3,
                        explanation: "å®¶æ—å…¨å“¡ã®åŒæ„ã€çµŒæ¸ˆçš„ä½™è£•ã€é£¼è‚²ç’°å¢ƒã®ç¢ºä¿ã€ã™ã¹ã¦ãŒé‡è¦ã§ã™ã€‚ãƒšãƒƒãƒˆã‚’é£¼ã†å‰ã«ååˆ†ãªæº–å‚™ã¨æ¤œè¨ãŒå¿…è¦ã§ã™ã€‚"
                    }
                ]
            }
        };

        // ã‚¯ã‚¤ã‚ºç®¡ç†ã‚¯ãƒ©ã‚¹
        class QuizManager {
            constructor() {
                this.currentQuiz = null;
                this.currentQuestionIndex = 0;
                this.correctAnswers = 0;
                this.totalQuestions = 0;
                this.quizData = null;
                
                this.initializeEventListeners();
            }

            initializeEventListeners() {
                // ã‚¯ã‚¤ã‚ºé–‹å§‹ãƒœã‚¿ãƒ³
                document.querySelectorAll('.start-quiz-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const quizType = e.target.getAttribute('data-quiz');
                        this.startQuiz(quizType);
                    });
                });

                // æ¬¡ã®å•é¡Œãƒœã‚¿ãƒ³
                document.getElementById('next-question-btn').addEventListener('click', () => {
                    this.nextQuestion();
                });

                // ãƒªãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³
                document.getElementById('retry-quiz-btn').addEventListener('click', () => {
                    this.retryQuiz();
                });

                // é¸æŠã«æˆ»ã‚‹ãƒœã‚¿ãƒ³
                document.getElementById('back-to-selection-btn').addEventListener('click', () => {
                    this.backToSelection();
                });
            }

            startQuiz(quizType) {
                this.currentQuiz = quizType;
                this.quizData = quizData[quizType];
                this.currentQuestionIndex = 0;
                this.correctAnswers = 0;
                this.totalQuestions = this.quizData.questions.length;

                // ã‚¯ã‚¤ã‚ºé¸æŠç”»é¢ã‚’éš ã—ã€ã‚¯ã‚¤ã‚ºç”»é¢ã‚’è¡¨ç¤º
                document.getElementById('quiz-selection').style.display = 'none';
                document.getElementById('quiz-container').style.display = 'block';

                this.showQuestion();
            }

            showQuestion() {
                const question = this.quizData.questions[this.currentQuestionIndex];
                
                // å•é¡Œæ–‡ã‚’è¡¨ç¤º
                document.getElementById('question-text').textContent = question.question;
                
                // é¸æŠè‚¢ã‚’ç”Ÿæˆ
                const optionsList = document.getElementById('quiz-options-list');
                optionsList.innerHTML = '';
                
                question.options.forEach((option, index) => {
                    const optionElement = document.createElement('button');
                    optionElement.className = 'quiz-option-btn';
                    optionElement.textContent = option;
                    optionElement.addEventListener('click', () => {
                        this.selectAnswer(index);
                    });
                    optionsList.appendChild(optionElement);
                });

                // é€²æ—ã‚’æ›´æ–°
                this.updateProgress();
                
                // ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¨çµæœã‚’éš ã™
                document.getElementById('quiz-feedback').style.display = 'none';
                document.getElementById('quiz-result').style.display = 'none';
            }

            selectAnswer(selectedIndex) {
                const question = this.quizData.questions[this.currentQuestionIndex];
                const isCorrect = selectedIndex === question.correct;
                
                if (isCorrect) {
                    this.correctAnswers++;
                }

                // é¸æŠè‚¢ã‚’ç„¡åŠ¹åŒ–
                document.querySelectorAll('.quiz-option-btn').forEach((btn, index) => {
                    btn.disabled = true;
                    if (index === question.correct) {
                        btn.classList.add('correct');
                    } else if (index === selectedIndex && !isCorrect) {
                        btn.classList.add('incorrect');
                    }
                });

                // ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¡¨ç¤º
                this.showFeedback(isCorrect, question.explanation);
            }

            showFeedback(isCorrect, explanation) {
                const feedback = document.getElementById('quiz-feedback');
                const icon = document.getElementById('feedback-icon');
                const title = document.getElementById('feedback-title');
                const text = document.getElementById('feedback-text');

                if (isCorrect) {
                    icon.textContent = 'ğŸ‰';
                    title.textContent = 'æ­£è§£ã§ã™ï¼';
                    title.style.color = '#4CAF50';
                } else {
                    icon.textContent = 'ğŸ˜¿';
                    title.textContent = 'ä¸æ­£è§£ã§ã™';
                    title.style.color = '#f44336';
                }

                text.textContent = explanation;
                feedback.style.display = 'block';
            }

            nextQuestion() {
                this.currentQuestionIndex++;
                
                if (this.currentQuestionIndex < this.totalQuestions) {
                    this.showQuestion();
                } else {
                    this.showResult();
                }
            }

            showResult() {
                const percentage = Math.round((this.correctAnswers / this.totalQuestions) * 100);
                
                document.getElementById('final-score').textContent = this.correctAnswers;
                document.getElementById('final-total').textContent = this.totalQuestions;
                document.getElementById('percentage').textContent = percentage;

                const resultIcon = document.getElementById('result-icon');
                const resultMessage = document.getElementById('result-message');
                
                if (percentage >= 80) {
                    resultIcon.textContent = 'ğŸ†';
                    resultMessage.innerHTML = '<p>ç´ æ™´ã‚‰ã—ã„çµæœã§ã™ï¼<br>å‹•ç‰©æ„›è­·ã«ã¤ã„ã¦ã‚ˆãç†è§£ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>';
                } else if (percentage >= 60) {
                    resultIcon.textContent = 'ğŸ‘';
                    resultMessage.innerHTML = '<p>è‰¯ã„çµæœã§ã™ï¼<br>ã‚‚ã†ä¸€åº¦å­¦ç¿’ã—ã¦ã‹ã‚‰æŒ‘æˆ¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>';
                } else {
                    resultIcon.textContent = 'ğŸ“š';
                    resultMessage.innerHTML = '<p>å­¦ç¿’ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å¾©ç¿’ã—ã¦ã‹ã‚‰<br>ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>';
                }

                document.getElementById('quiz-result').style.display = 'block';
                document.getElementById('quiz-feedback').style.display = 'none';
            }

            updateProgress() {
                const progress = ((this.currentQuestionIndex + 1) / this.totalQuestions) * 100;
                document.getElementById('progress-fill').style.width = progress + '%';
                document.getElementById('progress-text').textContent = `${this.currentQuestionIndex + 1} / ${this.totalQuestions}`;
                document.getElementById('correct-count').textContent = this.correctAnswers;
                document.getElementById('total-questions').textContent = this.totalQuestions;
            }

            retryQuiz() {
                this.startQuiz(this.currentQuiz);
            }

            backToSelection() {
                document.getElementById('quiz-selection').style.display = 'block';
                document.getElementById('quiz-container').style.display = 'none';
            }
        }

        // ã‚¯ã‚¤ã‚ºãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã‚’åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            new QuizManager();
        });
    </script>
</body>
</html>
